<style>
  /* Card container */
  .game-card {
    border-radius: 1rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    overflow: hidden;
  }

  /* Skill-level badge */
  .skill-badge {
    background-color: #28a745;
    /* your green */
    font-size: 0.85rem;
    padding: 0.5em 1em;
    border-radius: 0.5rem;
    color: white;
  }

  /* Feature badges */
  .feature-badge {
    font-size: 0.85rem;
    padding: 0.5em 0.75em;
    border-radius: 0.5rem;
    white-space: nowrap;
  }

  .feature-badge.equipment {
    background-color: #ffdd57;
    /* yellow */
    color: #212529;
    /* dark text */
  }

  .feature-badge.shared {
    background-color: #cfe2ff;
    /* light blue */
    color: #084298;
    /* dark text */
  }

  /* Host avatar */
  .host-avatar {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid white;
  }

  /* Card title */
  .card-title {
    font-size: 1.25rem;
    font-weight: 600;
  }

  /* ‚ÄúMore Info‚Äù link */
  .more-info .link-primary {
    font-size: 0.9rem;
    font-weight: 500;
  }

  /* Hide collapse chevron on open */
  .more-info .collapse.show+a .bi-chevron-down {
    transform: rotate(-180deg);
  }

  .section-header .border-top {
    border-top-width: 3px !important;
    border-color: #6f42c1 !important;
    /* purple, for example */
  }

  /* 1. Make each cell square and hide overflow */
  .about-grid .grid-item {
    aspect-ratio: 1/1;
    overflow: hidden;
  }

  /* 2. Control span: you can tweak these or add more sizes */
  .grid-item.span-2 {
    grid-column: span 2;
    grid-row: span 2;
  }

  /* 3. Style the shape-block placeholders */
  .shape-block {
    width: 100%;
    height: 100%;
  }

  /* 4. Optional: add a little ‚Äúpop‚Äù on hover */
  .about-grid .grid-item:hover img,
  .about-grid .grid-item:hover .shape-block {
    transform: scale(1.03);
    transition: transform 0.3s;
  }

  .card-link {
    display: block;
  }

  /* Remove underline & inherit text color */
  .card-link.text-decoration-none {
    text-decoration: none !important;
    color: inherit !important;
  }

  /* Optional: add a hover lift effect */
  .card-link:hover .game-card {
    transform: translateY(-4px);
    transition: transform 0.2s;
    cursor: pointer;
  }
</style>

<section class="hero d-flex align-items-center text-white bg-dark" style="
    min-height: 80vh;
  ">
  <div class="container text-center">

    <h1 class="display-3 fw-bold mb-3">
      FindMySquad
    </h1>
    <p class="lead mb-4">
      Connect with fellow players.
      Host or join games & gym sessions in your area.
    </p>
    <div>
      <a href="/signup" class="btn btn-primary btn-lg me-2">
        Get Started
      </a>
      {{!-- <a href="/host" class="btn btn-outline-light btn-lg">
        Host a Game
      </a> --}}
    </div>
    <div class="row justify-content-center mt-5">
      <div class="col-6 col-md-3 mb-3">
        <i class="bi bi-people-fill fs-1 mb-2"></i>
        <p>Build Your Team</p>
      </div>
      <div class="col-6 col-md-3 mb-3">
        <i class="bi bi-calendar-check-fill fs-1 mb-2"></i>
        <p>Schedule & Join</p>
      </div>
      <div class="col-6 col-md-3 mb-3">
        <i class="bi bi-star-fill fs-1 mb-2"></i>
        <p>Rate & Review</p>
      </div>
    </div>
  </div>
</section>


<section class="container my-5">
  <div class="card shadow-sm">
    <!-- Gradient Header -->
    <div class="card-header text-white text-center py-3 bg-primary">
      <h4 class="mb-0">üèÜ Top Karma Users</h4>
    </div>

    <!-- User List -->
    <ul class="list-group list-group-flush">
      {{#if topUsers.length}}
      {{#each topUsers}}
      <li class="list-group-item d-flex align-items-center justify-content-between">
        <div class="d-flex align-items-center">
          <!-- Avatar with block helper fallback -->
          <img src="{{#if profile.avatar}}{{profile.avatar}}{{else}}/images/default-avatar.png{{/if}}"
            alt="Avatar of {{profile.firstName}} {{profile.lastName}}" class="rounded-circle me-3" width="40"
            height="40">
          <span class="fw-medium">
            {{profile.firstName}} {{profile.lastName}}
          </span>
        </div>
        <span class="badge bg-success rounded-pill">
          {{karmaPoints}} karma
        </span>
      </li>
      {{/each}}
      {{else}}
      <li class="list-group-item text-center text-muted">
        No users found.
      </li>
      {{/if}}
    </ul>
  </div>
</section>

<div class="container p-0">
  <div class="d-flex align-items-center my-4 section-header">
    <div class="flex-grow-1 border-top"></div>
    <h2 class="mx-3 fw-bold mb-0">Discover Games</h2>
    <div class="flex-grow-1 border-top"></div>
  </div>
</div>

<div id="gameCarousel" class="game-scroll-wrapper container">
  {{#each upcomingGames}}
  {{!-- <a href="/join/{{_id}}" class="game-card-link text-decoration-none text-reset"> --}}
    <div class="card game-card h-100 position-relative">
      <div class="card-body pb-4">
        <!-- Skill-level badge -->
        <span class="badge skill-badge position-absolute top-0 end-0 m-3">
          {{skillLevel}}
        </span>

        <!-- Title -->
        <h5 class="card-title mb-3">{{title}}</h5>

        <!-- Details -->
        <ul class="list-unstyled mb-3 small text-secondary">
          <li><strong>Sport:</strong> {{sport}}</li>
          <li class="location"><strong>Location:</strong> {{location}}</li>
          <li>
            <strong>Time:</strong> {{formatTime startTime}} ‚Äì {{formatTime endTime}}
          </li>
          <li>
            <strong>Cost:</strong>
            {{#if (eq costPerHead 0)}}$0{{else}}${{costPerHead}}{{/if}}
          </li>
          <li><strong>Players:</strong> {{players.length}} / {{playersRequired}}</li>
        </ul>

        <!-- Feature badges -->
        <div class="d-flex flex-wrap gap-2 mb-3">
          {{#if equipmentRequired}}
          <span class="badge feature-badge equipment">
            <i class="bi bi-backpack-fill me-1"></i> BYO Equipment
          </span>
          {{/if}}
          {{#if costShared}}
          <span class="badge feature-badge shared">
            <i class="bi bi-handshake-fill me-1"></i> Cost Shared
          </span>
          {{/if}}
        </div>

        <hr class="my-3">

        <!-- More Info + View inline -->
        <div class="more-info d-flex align-items-center">
          <button type="button" class="btn btn-link link-primary p-0 me-3 d-flex align-items-center"
            data-bs-toggle="collapse" data-bs-target="#info-{{_id}}" aria-expanded="false" aria-controls="info-{{_id}}">
            <span>More Info</span>
            <i class="bi bi-chevron-down ms-1"></i>
          </button>
          <a href="/join/{{_id}}" class="game-card-link text-decoration-none text-reset">

            <button type="button" class="btn btn-primary btn-sm ms-auto" onclick="window.location.href='/join/{{_id}}'">
              View
            </button>
          </a>
        </div>

        <!-- Collapsible description -->
        <div class="collapse mt-2" id="info-{{_id}}">
          <p class="text-secondary mb-0">{{description}}</p>
        </div>
      </div>

      <!-- Host avatar -->
      <img src="{{#if hostAvatarUrl}}{{hostAvatarUrl}}{{else}}/images/avatar-placeholder.png{{/if}}" alt="Host avatar"
        class="host-avatar position-absolute bottom-0 end-0 m-3">
    </div>
    {{!--
  </a> --}}
  {{/each}}
</div>






<div class="container p-0">
  <div class="d-flex align-items-center my-4 section-header">
    <div class="flex-grow-1 border-top"></div>
    <h2 class="mx-3 fw-bold mb-0">Discover Gym Sessions</h2>
    <div class="flex-grow-1 border-top"></div>
  </div>
</div>


{{#if upcomingGymSessions.length}}
<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
  {{#each upcomingGymSessions}}
  <div class="col">
    <div class="card h-100 shadow-sm position-relative">
      <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{title}}</h5>
        <p class="mb-1 text-muted">
          <i class="bi bi-calendar-event me-1"></i>
          {{formatDate dateTime}} at {{formatTime dateTime}}
        </p>
        <p class="mb-2">
          <i class="bi bi-clock me-1"></i>
          Ends at: {{formatTime endTime}}
        </p>
        <div class="mt-auto">
          <a href="/gym/{{_id}}" class="btn btn-outline-success w-100">
            View Details
          </a>
        </div>
      </div>

      <!-- Host avatar (bottom-right) -->
      <img src="{{hostAvatarUrl}}" alt="Host avatar" class="host-avatar position-absolute bottom-0 end-0 m-3">
    </div>
  </div>
  {{/each}}
</div>
{{else}}
<p class="text-center text-muted">No gym sessions coming up.</p>
{{/if}}
</section>

<section class="about-team py-5 bg-white rounded shadow-sm">
  <div class="container">
    <div class="row align-items-center g-4">
      <div class="col-lg-6">
        <h2 class="fw-bold display-6 mb-3">About the Team</h2>
        <p class="text-muted mb-4">
          At FindMySquad, our team thrives on collaboration and shared passion for sports.
          We bring together diverse skills‚Äîfrom coding and design to community building‚Äîto craft
          seamless, engaging experiences for every player.
          With open communication, mutual respect, and a relentless drive to innovate,
          we tackle challenges as one united squad and celebrate every victory together.
        </p>
        <div class="d-flex gap-3">
          <a href="#" class="btn btn-success btn-lg">READ OUR STORY</a>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="about-grid d-grid gap-3" style="grid-template-columns: repeat(4, 1fr); grid-auto-rows: 1fr;">
          <!-- Top-left small -->
          <div class="grid-item position-relative"
            style="grid-column: 1; grid-row: 1; aspect-ratio:1/1; overflow:hidden;">
            <img src="/images/team1.avif" alt="Team photo 1" class="img-fluid rounded">
          </div>

          <!-- Center large spanning 2√ó2 -->
          <div class="grid-item position-relative"
            style="grid-column: 2 / span 2; grid-row: 1 / span 2; aspect-ratio:1/1; overflow:hidden;">
            <img src="/images/team2.avif" alt="Team photo 2" class="img-fluid rounded">
          </div>

          <!-- Top-right small -->
          <div class="grid-item position-relative"
            style="grid-column: 4; grid-row: 1; aspect-ratio:1/1; overflow:hidden;">
            <img src="/images/team3.avif" alt="Team photo 3" class="img-fluid rounded">
          </div>

          <!-- Bottom-left small -->
          <div class="grid-item position-relative"
            style="grid-column: 1; grid-row: 2; aspect-ratio:1/1; overflow:hidden;">
            <img src="/images/team4.avif" alt="Team photo 4" class="img-fluid rounded">
          </div>

          <!-- Bottom-right small -->
          <div class="grid-item position-relative"
            style="grid-column: 4; grid-row: 2; aspect-ratio:1/1; overflow:hidden;">
            <img src="/images/team5.avif" alt="Team photo 5" class="img-fluid rounded">
          </div>
        </div>
      </div>

    </div>
  </div>
</section>





<script>
  function scrollGames(direction) {
    const container = document.getElementById("gameCarousel");
    const scrollAmount = container.offsetWidth * 0.85;
    container.scrollBy({ left: direction * scrollAmount, behavior: 'smooth' });
  }
</script>