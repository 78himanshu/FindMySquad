
<div class="host-game-container">
  <h1>Create Tournament</h1>
  <form id="createTournamentForm" action="/tournaments/create" method="POST" class="host-game-form">

    <!-- Game Selection -->
    <select name="game" required>
      <option value="" disabled selected>Select Game</option>
      {{#each games}}
        <option value="{{this}}">{{this}}</option>
      {{/each}}
    </select>

    <!-- Format -->
    <select name="format" required>
      <option value="" disabled selected>Select Format</option>
      <option value="1v1">1v1</option>
      <option value="2v2">2v2</option>
      <option value="3v3">3v3</option>
      <option value="4v4">4v4</option>
      <option value="5v5">5v5</option>
    </select>

    <!-- Date -->
    <input
      type="date"
      name="date"
      placeholder="Date"
      required
      min="{{minDate}}"
      value="{{minDate}}"
    />

    <!-- Start & End Time -->
    <div class="form-row">
      <input
        type="time"
        name="startTime"
        placeholder="Start Time"
        required
      />
      <input
        type="time"
        name="endTime"
        placeholder="End Time"
        required
      />
    </div>

    <!-- Skill Level -->
    <select name="skillLevel" required>
      <option value="" disabled selected>Select Skill Level</option>
      <option>Novice 1</option>
      <option>Novice 2</option>
      <option>Novice 3</option>
      <option>Amateur 1</option>
      <option>Amateur 2</option>
      <option>Amateur 3</option>
      <option>Expert 1</option>
      <option>Expert 2</option>
      <option>Expert 3</option>
    </select>

    <!-- Max Teams -->
    <input
      type="number"
      name="maxTeams"
      placeholder="Max Teams (1–100)"
      min="1"
      max="100"
      required
    />

    <!-- Tournament Description -->
    <textarea
      name="description"
      placeholder="Tournament Description (10–200 chars)"
      minlength="10"
      maxlength="200"
      required
    ></textarea>

    <!-- Prize Details -->
    <textarea
      name="prizeDescription"
      placeholder="Prize Details (e.g. 1st: $100, 2nd: $50, 3rd: $25)"
      minlength="5"
      maxlength="50"
      required
    ></textarea>

    <button type="submit" class="submit-btn">Create Tournament</button>
  </form>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const dateInput = document.querySelector('input[name="date"]');
    // Ensure min-date
    dateInput.min = '{{minDate}}';

    const form = document.getElementById('createTournamentForm');
    form.addEventListener('submit', (e) => {
      const start = form.startTime.value;
      const end = form.endTime.value;
      if (start >= end) {
        e.preventDefault();
        alert('Start time must be before end time.');
      }
    });
  });
</script>
